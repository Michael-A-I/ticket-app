/*! For license information please see 60.37e03764.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[60],{60:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var s=n(4165),r=n(5861),o=n(885),a=n(2791),c=n(6871),i=n(7865),l=n(2653),u=n(7022),d=n(8329),p=n(9743),h=n(9089),x=n(3360),m=n(6694),f=n(2677),g=n(3053),j=n(184);var v=function(e){var t=(0,c.UO)().id,n=(0,a.useContext)(d.Z).user.token,o=function(){var o=(0,r.Z)((0,s.Z)().mark((function r(o){var a,c;return(0,s.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o.preventDefault(),console.log("handle submit"),a=o.target,c={text:a[0].value,post:t},console.log(c),s.prev=5,s.next=8,fetch("/posts/".concat(t,"/answers"),{method:"POST",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify(c)});case 8:e.getAnswerComments(),s.next=14;break;case 11:return s.prev=11,s.t0=s.catch(5),s.abrupt("return",s.t0);case 14:case"end":return s.stop()}}),r,null,[[5,11]])})));return function(e){return o.apply(this,arguments)}}();return(0,j.jsxs)(p.Z,{ref:e.myRef,children:[(0,j.jsxs)(f.Z,{xs:{span:10,offset:1},children:[" ",(0,j.jsxs)(m.Z,{onSubmit:o,children:[(0,j.jsx)(g.Z,{controlId:"floatingInput",label:"Answer",className:"mb-3",children:(0,j.jsx)(m.Z.Control,{required:!0,as:"textarea",placeholder:"Leave a answer here",style:{height:"100px"}})}),(0,j.jsx)("div",{class:"text-right",children:(0,j.jsx)(x.Z,{type:"submit",class:"btn btn-primary",children:"Post Answer"})})]})]}),(0,j.jsx)("div",{class:"row",children:(0,j.jsx)("div",{class:"col-sm-4 col-sm-offset-4"})})]})},Z=n(5987),y=n(1413),w=n(1694),b=n.n(w),k=n(6543),C=n(162),S=n(6882),A=n(1991),T=["bsPrefix","size","hasValidation","className","as"],_=(0,k.Z)("input-group-text",{Component:"span"}),N=a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.size,r=e.hasValidation,o=e.className,c=e.as,i=void 0===c?"div":c,l=(0,Z.Z)(e,T);n=(0,C.vE)(n,"input-group");var u=(0,a.useMemo)((function(){return{}}),[]);return(0,j.jsx)(A.Z.Provider,{value:u,children:(0,j.jsx)(i,(0,y.Z)((0,y.Z)({ref:t},l),{},{className:b()(o,n,s&&"".concat(n,"-").concat(s),r&&"has-validation")}))})}));N.displayName="InputGroup";var O=Object.assign(N,{Text:_,Radio:function(e){return(0,j.jsx)(_,{children:(0,j.jsx)(S.Z,(0,y.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,j.jsx)(_,{children:(0,j.jsx)(S.Z,(0,y.Z)({type:"checkbox"},e))})}}),P=n(4292);var F=function(e){var t=(0,a.useState)(!1),n=(0,o.Z)(t,2),i=n[0],l=n[1],u=(0,c.UO)().id,h=(0,a.useContext)(d.Z).user.token,v=function(){l(!i)},Z=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(n){var r,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),console.log("handle submit"),v(),localStorage.getItem("id"),localStorage.getItem("username"),r=n.target,o={text:r[0].value,post:u},console.log(o),t.prev=8,t.next=11,fetch("/posts/".concat(u,"/comments"),{method:"POST",headers:{"Content-Type":"application/json","x-access-token":h},body:JSON.stringify(o)});case 11:t.sent,console.log(e.comments),e.getComments(),t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(8),t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),t,null,[[8,16]])})));return function(e){return t.apply(this,arguments)}}();return(0,j.jsx)(p.Z,{children:i?(0,j.jsxs)(f.Z,{xs:{span:10,offset:1},children:[" ",(0,j.jsxs)(m.Z,{onSubmit:Z,children:[(0,j.jsx)(m.Z.Group,{children:(0,j.jsx)(O,{className:"",children:(0,j.jsx)(g.Z,{controlId:"floatingInput",label:"Post Comment",className:"mb-3",children:(0,j.jsx)(P.Z,{placeholder:"comment","aria-label":"comment","aria-describedby":"basic-addon1",required:!0})})})}),(0,j.jsx)(x.Z,{type:"btn",class:"btn btn-primary",onClick:v,children:"Cancel"}),(0,j.jsx)(x.Z,{type:"submit",class:"btn btn-primary",children:"Save"})]})]}):(0,j.jsx)(x.Z,{onClick:v,children:"Add Comment"})})},J=n(2982);var D=function(e){(0,c.UO)().id;var t=(0,a.useContext)(d.Z),n=t.user.token,i=(0,c.s0)(),u=(0,a.useState)(null),h=(0,o.Z)(u,2),f=h[0],g=h[1],v=(0,a.useState)([]),Z=(0,o.Z)(v,2),y=Z[0],w=Z[1];(0,a.useEffect)((function(){return e.getComments()}),[i]);var b=function(e){console.log("mouse leave"),console.log(e);e.target.getAttribute("keyvalue");console.log(f),g(null)};console.log(f);var k=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(r){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("delete comment: "+r),t.prev=1,t.next=4,fetch("/posts/".concat(r,"/comments"),{method:"Delete",headers:{"Content-Type":"application/json","x-access-token":n}});case 4:t.sent,e.getComments(),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),C=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,r){var o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=t.target,a={text:o[0].value},console.log(a),e.next=6,fetch("/posts/".concat(r,"/comments"),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify(a)});case 6:console.log("after fetch");case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,j.jsx)(j.Fragment,{children:e.comments.map((function(n,s){return(0,j.jsxs)(p.Z,{children:[console.log("edit after click JSX "+y),f==n._id||y.includes(n._id)?y.includes(n._id)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[" ",n.name]}),void 0==n.user.image?(0,j.jsx)("img",{src:"/default-profile.jpg",alt:"profile-image",className:"thumbnail",style:{height:"25px",width:"50px"}}):(0,j.jsx)("img",{src:"".concat(n.user.image),alt:"profile-image",className:"thumbnail",style:{height:"25px",width:"50px"}}),(0,j.jsxs)(m.Z,{onSubmit:function(t){return C(t,n._id)&function(t){console.log("after update id: "),console.log(t),w((function(e){return e.filter((function(e){return e!=t}))})),e.getComments(),console.log("edit after update "+y)}(n._id)},children:[(0,j.jsx)(m.Z.Control,{required:!0,type:"text",placeholder:"".concat(n.text)}),(0,j.jsx)(x.Z,{variant:"primary",type:"submit",children:"Save"}),(0,j.jsx)(x.Z,{variant:"warning",onClick:function(){return function(e){console.log(e),w((function(t){return t.filter((function(t){return t!==e}))}))}(n._id)},children:"Cancel"}),(0,j.jsx)(x.Z,{variant:"danger",onClick:function(){return k(n._id)},children:"Delete"})]}),(0,j.jsxs)("p",{children:[" ",(0,l.J)(n.updatedAt)]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[" ",n.name]}),void 0==n.user.image?(0,j.jsx)("img",{src:"/default-profile.jpg",alt:"profile-image",className:"thumbnail",style:{height:"25px",width:"50px"}}):(0,j.jsx)("img",{src:"".concat(n.user.image),alt:"profile-image",className:"thumbnail",style:{height:"25px",width:"50px"}}),(0,j.jsx)("p",{className:"comments-style",keyvalue:n._id,onMouseLeave:b,onClick:function(){return function(e){console.log(" edit on click"),console.log(e),w((function(t){return[].concat((0,J.Z)(t),[e])})),console.log("edit"+y)}(n._id)},children:n.text},n._id),(0,j.jsx)("i",{class:"fa-solid fa-pen"}),(0,j.jsxs)("p",{children:[" ",(0,l.J)(n.updatedAt)]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[" ",n.name]}),void 0==n.user.image?(0,j.jsx)("img",{src:"/default-profile.jpg",alt:"profile-image",className:"thumbnail",style:{height:"25px",width:"50px"}}):(0,j.jsx)("img",{src:"".concat(n.user.image),alt:"profile-image",className:"thumbnail",style:{height:"25px",width:"50px"}}),(0,j.jsx)("p",{keyvalue:n._id,onMouseOver:function(e){return s=e,r=n._id,o=n.user._id,console.log("mouse over"),void(o==t.user.id&&r==s.target.getAttribute("keyvalue")&&g(r));var s,r,o},children:n.text},n._id),(0,j.jsxs)("p",{children:[" ",(0,l.J)(n.updatedAt)]})]})]})}))})};var I=function(e){var t=(0,a.useContext)(d.Z),n=t.user.token,i=(0,a.useState)(!0),u=(0,o.Z)(i,2),f=u[0],g=u[1],v=(0,a.useState)(),Z=(0,o.Z)(v,2),y=Z[0],w=Z[1],b=(0,a.useState)(),k=(0,o.Z)(b,2),C=k[0],S=k[1],A=(0,c.UO)().id;(0,a.useEffect)((function(){console.log("postview useEffect")}),[]);var T=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deletePost"),e.prev=1,console.log("PostsIndex.js token: "+n),e.next=5,fetch("/posts/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json","x-access-token":n}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(r,o){var a,c;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("postView.js handleSubmit"),r.preventDefault(),a=r.target,c={title:a[0].value,description:a[1].value},t.prev=4,console.log("PostsIndex.js token: "+n),t.next=8,fetch("/posts/".concat(o,"/edit"),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify(c)});case 8:g(!f),e.getPost(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,n){return t.apply(this,arguments)}}(),N=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("follow"),S(!0),e.next=4,fetch("/posts/".concat(A,"/follow"),{method:"POST",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify({hasUserFollowed:t.user.id})});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("unfollow"),S(!1),e.next=4,fetch("/posts/".concat(A,"/unfollow"),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify({hasUserFollowed:t.user.id})});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!y),console.log("like"),e.next=4,fetch("/posts/".concat(A,"/like"),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify({hasUserFollowed:t.user.id})});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("unlike"),w(!y),e.next=4,fetch("/posts/".concat(A,"/unlike"),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify({hasUserFollowed:t.user.id})});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,j.jsx)(p.Z,{children:f?(0,j.jsx)(h.Z,{children:(0,j.jsxs)(h.Z.Body,{children:[C?(0,j.jsx)(x.Z,{onClick:O,children:"Followed"}):(0,j.jsx)(x.Z,{onClick:N,children:"Follow"}),(0,j.jsx)(h.Z.Title,{children:e.post.title}),(0,j.jsx)(h.Z.Text,{children:e.post.description}),e.post.updatedAt!=e.post.createdAt?(0,j.jsxs)(h.Z.Text,{children:["updated at ",(0,l.J)(e.post.updatedAt)]}):(0,j.jsxs)(h.Z.Text,{children:["created at ",(0,l.J)(e.post.updatedAt)]}),(0,j.jsx)(p.Z,{children:void 0!=e.post.file?(0,j.jsx)("img",{src:e.post.file,className:"img-thumbnail mt-2",style:{height:"100px",width:"150px"}}):""}),(0,j.jsxs)(p.Z,{children:[e.post&&void 0!=e.post.user?(0,j.jsx)("p",{children:e.post.user.username}):"",void 0==e.post.user?(0,j.jsx)("img",{src:"/default-profile.jpg",className:"img-thumbnail mt-2",style:{height:"40px",width:"50px"}}):(0,j.jsx)("img",{src:e.post.user.image,className:"img-thumbnail mt-2",style:{height:"40px",width:"50px"}})]}),e.post.user&&e.post.user._id==t.user.id?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.Z,{variant:"primary",onClick:e.executeScroll,children:"Answer Post"}),(0,j.jsx)(x.Z,{variant:"warning",onClick:function(){console.log("editPost"),g(!f)},children:"Edit"}),(0,j.jsx)(x.Z,{variant:"danger",onClick:function(){return T(e.post._id)},children:"Delete"})]}):"",y?(0,j.jsx)("i",{class:"fa-solid fa-heart",onClick:F,style:{color:"red",background:"grey"}}):(0,j.jsx)("i",{class:"fa-solid fa-heart",onClick:P,style:{color:"white",background:"grey"}})]})}):(0,j.jsx)(h.Z,{children:(0,j.jsx)(h.Z.Body,{children:(0,j.jsxs)(m.Z,{onSubmit:function(t){return _(t,e.post._id)},children:[(0,j.jsx)(m.Z.Label,{children:"Title"}),(0,j.jsx)(m.Z.Control,{control:"input",size:"lg",type:"text",placeholder:"".concat(e.post.title),name:"title"}),(0,j.jsx)(m.Z.Control,{type:"text",placeholder:"".concat(e.post.description)}),e.post&&e.post.updatedAt!=e.post.createdAt?(0,j.jsxs)(h.Z.Text,{children:["updated at ",(0,l.J)(e.post.updatedAt)]}):(0,j.jsxs)(h.Z.Text,{children:["created at ",(0,l.J)(e.post.updatedAt)]}),e.post.file?(0,j.jsx)("img",{src:e.post.file,className:"img-thumbnail mt-2",height:200,width:200}):"",(0,j.jsx)(x.Z,{type:"submit",variant:"primary",children:"Save"}),(0,j.jsx)(x.Z,{variant:"warning",onClick:function(){return g(!f)},children:"Cancel"}),(0,j.jsx)(x.Z,{variant:"danger",onClick:function(){return T(e.post._id)},children:"Delete"})]})})})})},U=n(5212);var E=function(e){var t=(0,a.useState)(!1),n=(0,o.Z)(t,2),i=n[0],l=n[1],u=(0,c.UO)().id,h=e.answerId,v=(e.postId,(0,a.useContext)(d.Z).user.token),Z=function(){l(!i)},y=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(n){var r,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("handle submit"),Z(),r=n.target,o={text:r[0].value},console.log(o),console.log(e.answerID),console.log(u),t.prev=7,t.next=10,fetch("/posts/".concat(u,"/answer/").concat(h),{method:"POST",headers:{"Content-Type":"application/json","x-access-token":v},body:JSON.stringify(o)});case 10:e.getAnswerComments(),t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(7),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(e){return t.apply(this,arguments)}}();return(0,j.jsx)(p.Z,{children:i?(0,j.jsxs)(f.Z,{xs:{span:10,offset:1},children:[" ",(0,j.jsxs)(m.Z,{onSubmit:y,children:[(0,j.jsx)(m.Z.Group,{children:(0,j.jsx)(O,{className:"",children:(0,j.jsx)(g.Z,{controlId:"floatingInput",label:"Post Comment",className:"mb-3",children:(0,j.jsx)(P.Z,{placeholder:"comment","aria-label":"comment","aria-describedby":"basic-addon1",required:!0})})})}),(0,j.jsx)(x.Z,{type:"btn",class:"btn btn-primary",onClick:Z,children:"Cancel"}),(0,j.jsx)(x.Z,{type:"submit",class:"btn btn-primary",children:"Save"})]})]}):(0,j.jsx)(x.Z,{onClick:Z,children:"Add Comment"})})};var L=function(e){(0,c.UO)().id;var t=(0,a.useContext)(d.Z),n=t.user.token,i=(0,a.useState)(null),u=(0,o.Z)(i,2),h=u[0],f=u[1],g=(0,a.useState)([]),v=(0,o.Z)(g,2),Z=v[0],y=v[1],w=function(e){console.log("mouse leave"),console.log(e);e.target.getAttribute("keyvalue");console.log(h),f(null)},b=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(r){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("delete comment: "+r),t.prev=1,t.next=4,fetch("/posts/".concat(r,"/comments"),{method:"Delete",headers:{"Content-Type":"application/json","x-access-token":n}});case 4:t.sent,console.log("refresh view"),e.getAnswerComments(),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}(),k=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,r){var o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),o=t.target,a={text:o[0].value},console.log(a),e.prev=4,e.next=7,fetch("/posts/".concat(r,"/comments"),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify(a)});case 7:console.log("after fetch"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[console.log("Post Answer from Answer Comoments View:"+e.comments.text),e.comments.map((function(n,s){return(0,j.jsxs)(p.Z,{children:[console.log(n.user),h==n._id||Z.includes(n._id)?Z.includes(n._id)?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[" ",n.name]}),(0,j.jsxs)(m.Z,{onSubmit:function(t){return k(t,n._id)&function(t){console.log("after update id: "),console.log(t),y((function(e){return e.filter((function(e){return e!=t}))})),e.getAnswerComments(),console.log("edit after update "+Z)}(n._id)},children:[(0,j.jsx)(m.Z.Control,{type:"text",placeholder:"".concat(n.text)}),n.user&&void 0==n.user.image?(0,j.jsx)("img",{src:"/default-profile.jpg",alt:"aa",className:"thumbnail",style:{height:"25px",width:"50px"}}):(0,j.jsx)("img",{src:"".concat(n.user.image),alt:"aa",className:"thumbnail",style:{height:"25px",width:"50px"}}),(0,j.jsx)(x.Z,{variant:"primary",type:"submit",children:"Save"}),(0,j.jsx)(x.Z,{variant:"warning",onClick:function(){return function(e){console.log(e),y((function(t){return t.filter((function(t){return t!==e}))}))}(n._id)},children:"Cancel"}),(0,j.jsx)(x.Z,{variant:"danger",onClick:function(){return b(n._id)},children:"Delete"})]}),(0,j.jsxs)("p",{children:[" ",(0,l.J)(n.updatedAt)]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[" ",n.name]}),n.user&&void 0==n.user.image?(0,j.jsx)("img",{src:"/default-profile.jpg",alt:"aa",className:"thumbnail",style:{height:"25px",width:"50px"}}):(0,j.jsx)("img",{src:"".concat(n.user.image),alt:"aa",className:"thumbnail",style:{height:"25px",width:"50px"}}),(0,j.jsx)("p",{className:"comments-style",keyvalue:n._id,onMouseLeave:w,onClick:function(){return function(e){console.log(" edit on click"),console.log(e),y((function(t){return[].concat((0,J.Z)(t),[e])})),console.log("edit"+Z)}(n._id)},children:n.text},n._id),(0,j.jsxs)("p",{children:[" ",(0,l.J)(n.updatedAt)]})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("p",{children:[" ",n.name]}),n.user&&void 0==n.user.image?(0,j.jsx)("img",{src:"/default-profile.jpg",alt:"aa",className:"thumbnail",style:{height:"25px",width:"50px"}}):(0,j.jsx)("img",{src:"".concat(n.user.image),alt:"aa",className:"thumbnail",style:{height:"25px",width:"50px"}}),(0,j.jsx)("p",{keyvalue:n._id,onMouseOver:function(e){return s=e,r=n._id,o=n.user._id,console.log("editMouseOver"),console.log(o),console.log(t.user.id),void(o==t.user.id&&(console.log("mouse over"),r==s.target.getAttribute("keyvalue")&&f(r)));var s,r,o},children:n.text},n._id),(0,j.jsxs)("p",{children:[" ",(0,l.J)(n.updatedAt)]})]})]})}))]})};var M=function(e){(0,c.UO)().id;var t=(0,a.useContext)(d.Z),n=t.user.token,i=(0,c.s0)();(0,a.useEffect)((function(){}),[i]);var l=(0,a.useState)([]),u=(0,o.Z)(l,2),p=u[0],f=u[1],g=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(r){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("answerDelete"),t.prev=1,t.next=4,fetch("/posts/".concat(r,"/answers/delete"),{method:"Delete",headers:{"Content-Type":"application/json","x-access-token":n}});case 4:t.sent,e.getAnswerComments(),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)((0,s.Z)().mark((function t(r,o){var a,c;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("handleSubmit"),r.preventDefault(),a=r.target,c={text:a[0].value},t.prev=4,t.next=7,fetch("/posts/".concat(o,"/answers/edit"),{method:"PUT",headers:{"Content-Type":"application/json","x-access-token":n},body:JSON.stringify(c)});case 7:t.sent,e.getAnswerComments(),f(""),t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(4),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e,n){return t.apply(this,arguments)}}();return void 0==e.postAnswer?(console.log(e.postAnswer),(0,j.jsx)("p",{children:"Loading..."})):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{children:"Answers"}),e.postAnswer.map((function(n,s){return(0,j.jsxs)(j.Fragment,{children:[p.includes(n._id)?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(h.Z,{children:(0,j.jsxs)(h.Z.Body,{children:[(0,j.jsx)(h.Z.Title,{children:"Answer Edit"}),(0,j.jsx)(h.Z.Text,{children:n.name}),(0,j.jsxs)(m.Z,{onSubmit:function(e){return v(e,n._id)},children:[(0,j.jsx)(m.Z.Control,{type:"text",placeholder:"".concat(n.text)}),(0,j.jsx)(x.Z,{type:"submit",variant:"primary",children:"Save"}),(0,j.jsx)(x.Z,{variant:"warning",onClick:function(){return function(e){console.log("answerEdit");var t=p.filter((function(t){return!e.includes(t)}));f(t)}(n._id)},children:"Cancel"}),(0,j.jsx)(x.Z,{variant:"danger",onClick:function(){return g(n._id)},children:"Delete"})]})]})},n._id)}):(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(h.Z,{children:[console.log(p.state),(0,j.jsxs)(h.Z.Body,{children:[(0,j.jsx)(h.Z.Title,{children:"Answer"}),(0,j.jsx)(h.Z.Text,{children:n.name}),(0,j.jsx)(h.Z.Text,{children:n.text}),n.user&&void 0==n.user.image?(0,j.jsx)("img",{src:"/default-profile.jpg",alt:"aa",className:"thumbnail",style:{height:"25px",width:"25px"}}):(0,j.jsx)("img",{src:"".concat(n.user.image),alt:"aa",className:"thumbnail",style:{height:"25px",width:"25px"}}),n.user&&n.user._id==t.user.id?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(x.Z,{variant:"warning",onClick:function(){return e=n._id,console.log("answerEdit"),void f((function(t){return[].concat((0,J.Z)(t),[e])}));var e},children:"Edit"}),(0,j.jsx)(x.Z,{variant:"danger",onClick:function(){return g(n._id)},children:"Delete"})]}):""]})]},n._id)}),(0,j.jsx)(L,{comments:e.postAnswer[s].comments,keyvalue:n._id,getAnswerComments:e.getAnswerComments}),(0,j.jsx)(E,{postId:e.postsID,answerId:n._id,getAnswerComments:e.getAnswerComments})]})}))]})},B=n(1968),R=n.n(B);var V=function(){var e=(0,a.useRef)(null),t=(0,a.useContext)(d.Z),n=(0,a.useState)([]),l=(0,o.Z)(n,2),p=l[0],h=l[1],x=(0,a.useState)([]),m=(0,o.Z)(x,2),f=m[0],g=m[1],Z=(0,a.useState)([]),y=(0,o.Z)(Z,2),w=y[0],b=y[1],k=(0,a.useState)(),C=(0,o.Z)(k,2),S=C[0],A=(C[1],(0,a.useState)([])),T=(0,o.Z)(A,2),_=(T[0],T[1],(0,a.useState)(!1)),N=(0,o.Z)(_,2),O=(N[0],N[1],(0,a.useState)(!0)),P=(0,o.Z)(O,2),J=(P[0],P[1]),E=((0,c.s0)(),(0,c.UO)().id),L=t.user.token;function B(){return V.apply(this,arguments)}function V(){return(V=(0,r.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getPostT"),e.prev=1,e.next=4,fetch("/posts/".concat(E),{headers:{method:"GET","x-access-token":L}});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,h(n),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function q(){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getComments"),e.prev=1,e.next=4,fetch("/posts/".concat(E,"/comments"),{headers:{"x-access-token":L}});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,g(n),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}(0,a.useEffect)((function(){return console.log("useEffect"),B(),z(),function(){return window.removeEventListener("load",X)}}),[]);var z=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getAnswerComments"),e.prev=1,e.next=4,fetch("/posts/answers/".concat(E),{headers:{"Content-Type":"application/json","x-access-token":L}});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,b(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),X=function(){console.log("handleLoading"),J(!1)};return void 0==p?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.Z,{}),(0,j.jsx)(u.Z,{children:(0,j.jsx)("div",{style:{paddingTop:"25%"},children:(0,j.jsx)(R(),{className:"loader",type:"spinningBubbles",color:"#0000FF",height:100,width:50})})})]}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.Z,{}),(0,j.jsxs)(U.Z,{title:p.title,children:[(0,j.jsx)(I,{post:p,executeScroll:function(){return e.current.scrollIntoView()},getPost:B}),(0,j.jsx)(D,{comments:f,getComments:q}),(0,j.jsx)(F,{post:p,comments:f,setComments:g,getComments:q}),(0,j.jsx)(M,{postId:S,postAnswer:w,getAnswerComments:z}),(0,j.jsx)(v,{myRef:e,getAnswerComments:z})]})]})}}}]);
//# sourceMappingURL=60.37e03764.chunk.js.map